package me.ht9.end.feature.module.exploit.instantmine;

import me.ht9.end.event.bus.annotation.SubscribeEvent;
import me.ht9.end.event.events.PlayerDamageBlockEvent;
import me.ht9.end.feature.module.Module;
import me.ht9.end.feature.module.annotation.Description;
import net.minecraft.src.Packet14BlockDig;
import net.minecraft.src.PlayerControllerMP;

@Description(value = "Automatically tunnels forward for you.")
public class InstantMine extends Module
{
    private static final InstantMine instance = new InstantMine();

    private InstantMine()
    {
    }

    @SubscribeEvent
    public void onPlayerDamageBlock(PlayerDamageBlockEvent event)
    {
        int var5 = mc.theWorld.getBlockId(event.getX(), event.getY(), event.getZ());
        if(var5 == 49)
        {
            for(int i = 0; i < 200; i++)
            {
                mc.method_2145().addToSendQueue(new Packet14BlockDig(0, event.getX(), event.getY(), event.getZ(), event.getFacing()));
                mc.method_2145().addToSendQueue(new Packet14BlockDig(1, event.getX(), event.getY(), event.getZ(), event.getFacing()));
                mc.method_2145().addToSendQueue(new Packet14BlockDig(1, event.getX(), event.getY(), event.getZ(), event.getFacing()));
                mc.method_2145().addToSendQueue(new Packet14BlockDig(1, event.getX(), event.getY(), event.getZ(), event.getFacing()));
                mc.method_2145().addToSendQueue(new Packet14BlockDig(1, event.getX(), event.getY(), event.getZ(), event.getFacing()));
                mc.method_2145().addToSendQueue(new Packet14BlockDig(1, event.getX(), event.getY(), event.getZ(), event.getFacing()));
            }
        }else
        {
            for(int i = 0; i < 60; i++)
            {
                mc.method_2145().addToSendQueue(new Packet14BlockDig(0, event.getX(), event.getY(), event.getZ(), event.getFacing()));
                mc.method_2145().addToSendQueue(new Packet14BlockDig(1, event.getX(), event.getY(), event.getZ(), event.getFacing()));
                mc.method_2145().addToSendQueue(new Packet14BlockDig(1, event.getX(), event.getY(), event.getZ(), event.getFacing()));
                mc.method_2145().addToSendQueue(new Packet14BlockDig(1, event.getX(), event.getY(), event.getZ(), event.getFacing()));
                mc.method_2145().addToSendQueue(new Packet14BlockDig(1, event.getX(), event.getY(), event.getZ(), event.getFacing()));
                mc.method_2145().addToSendQueue(new Packet14BlockDig(1, event.getX(), event.getY(), event.getZ(), event.getFacing()));
            }
        }
        mc.method_2145().addToSendQueue(new Packet14BlockDig(0, event.getX(), event.getY(), event.getZ(), event.getFacing()));
        mc.method_2145().addToSendQueue(new Packet14BlockDig(1, event.getX(), event.getY(), event.getZ(), event.getFacing()));
        mc.playerController.sendBlockRemoved(event.getX(), event.getY(), event.getZ(), event.getFacing());
        //mc.func_20001_q().addToSendQueue(new Packet14BlockDig(3, var1, var2, var3, var4));
    }

    public static InstantMine getInstance()
    {
        return instance;
    }
}